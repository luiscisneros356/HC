mutation CreateNewPatient($firstName: String!, $lastName: String!, $dateOfBirth: Date!, $gender: String!){
  patient_insert(data: {firstName: $firstName, lastName: $lastName, dateOfBirth: $dateOfBirth, gender: $gender})
}

query ListUsers @auth(level: USER, insecureReason: "This operation is safe to expose to all logged in users.") {
  users {
    id
    displayName
    email
    role
    specialty
  }
}

mutation CreateAppointment($patientId: UUID!, $professionalId: UUID!, $appointmentDate: Date!, $appointmentTime: String!, $notes: String, $reasonForVisit: String!, $status: String!) @auth(level: USER){
  appointment_insert(data: {patientId: $patientId, professionalId: $professionalId, appointmentDate: $appointmentDate, appointmentTime: $appointmentTime, notes: $notes, reasonForVisit: $reasonForVisit, status: $status})
}

query GetMedicalRecordEntriesForPatient($patientId: UUID!) @auth(level: USER, insecureReason: "This operation is safe to expose to all logged in users.") {
  medicalRecordEntries(where: {patientId: {eq: $patientId}}) {
    id
    entryDate
    entryType
    description
    details
  }
}